<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Coder 4 Me - Helping you find a programmer faster.</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="../css/bootstrap.css" rel="stylesheet">
    <style>
span.requirements {
    display: inline-block;
    font-size: 0.8em;
    margin-top: -10px;
    width: 220px;
}
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
			  /* Landscape phones and down */
		@media (max-width: 480px) {
.hero-unit h1{
				font-size:20px;
line-height:1.5em;
			}
			.hero-unit p{
				font-size:12px;
line-height:1.5em;
			}
 }
		 
		/* Landscape phone to portrait tablet */
		@media (max-width: 767px) {
			.hero-unit h1{
				font-size:30px;line-height:1.5em;
			}
			.hero-unit p{
				font-size:12px;line-height:1.5em;
			}
		}
		 
		/* Portrait tablet to landscape and desktop */
		@media (min-width: 768px) and (max-width: 979px) { }
		 
		/* Large desktop */
		@media (min-width: 1200px) { }
		.navbar .brand {
			padding: 0 20px;
		}
		.navbar .brand img{height:40px;}
		
    </style>
    <link href="../css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png">

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34386207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">

        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#"><img src="img/c4m_white.png" border="0"/></a>
          <div class="nav-collapse collapse">

            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
            </ul>
            <form class="navbar-form pull-right">
              <input class="span2" type="text" placeholder="Email">
              <input class="span2" type="password" placeholder="Password">
              <button type="submit" class="btn">Sign in</button>

            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>
    <div class="container">
    <!-- Main hero unit for a primary marketing message or call to action -->
    <!-- Example row of columns -->
    	<div class="row">
    	<div class="span12 step1">
    		<form class="form-horizontal">
    			<div class="control-group">
    				<label class="control-label" for="inputFname">First Name</label>
    				<div class="controls">
	    					<input type="text" id="inputFname" placeholder="John">
	    			</div>
	    		</div>
	    		<div class="control-group">
    				<label class="control-label" for="inputLname">Last Name</label>
    				<div class="controls">
	    					<input type="text" id="inputLname" placeholder="Smith">
	    			</div>
	    		</div>
	    		<div class="control-group">
    				<label class="control-label" for="inputEmail">Email</label>
    				<div class="controls">
	    					<input type="text" id="inputEmail" placeholder="John.Smith@gmail.com">
	    			</div>
	    		</div>
	    		<div class="control-group">
    				<label class="control-label" for="inputLabel">Headline</label>
    				<div class="controls">
	    					<input type="text" id="inputLabel" placeholder="JavaScript Ninja">
	    			</div>
	    		</div>
	    		<div class="control-group">
    				<label class="control-label" for="inputCountry">Country</label>
    				<div class="controls">
	    				<select id="inputCountry">
							<option>United States</option>

						</select>	 
					</div>
	    		</div>
	    		<div class="control-group">
    				<label class="control-label" for="inputZip">Zip Code</label>
    				<div class="controls">
	    					<input type="text" id="inputZip" placeholder="94568">
	    			</div>
	    		</div>
	    		<div class="control-group">
	    			<label class="control-label" for="inputPassword">Password</label>
	    			<div class="controls">
		    			<input type="password" id="inputPassword" placeholder="Password">
		    			<div class="progress progress-striped active" style="width:222px;height:10px;margin-top:5px;">
							<div class="bar bar-danger" style="width: 5%;"></div>
						</div>
						<span class="requirements">Passwords are required to be 8 characters long and contain letters, numbers and at least 1 special character.<br/> Acceptable Characters ! # $ % & ? "</span> 
		    		</div>
		    		
		    	</div>
		    	
		    	<div class="control-group">
		    		<div class="form-actions">
						<input id="step" type="hidden" name="step" value="1">
		    			<button type="submit" class="btn btn-primary">Next</button>
		    		</div>
		    	</div>
		    </form>
	</div>
	    	
	</div>
	<hr>
	<footer>
    	<p>&copy; Coder4Me 2012</p>
    </footer>

    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery-1.8.1.min.js"></script>
<script src="js/jquery.validate.js"></script>
<script src="js/jquery.md5.js"></script>
<script src="js/jquery.validation.functions.js"></script>
<script type="text/javascript">
function postMyAjax(step){
	if(step === 1){
		$(".form-horizontal").validated(function(){
			var firstName = $("#inputFname").val(),
			lastName = $("#inputLname").val(),
			email = $("#inputEmail").val(),
			label = $("#inputLabel").val(),
			country = $("#inputCountry").val(),
			zip = $("#inputZip").val(),
			password = $("#inputPassword").val(),
			step = $("#step").val(),
			password = $.md5(password);
			request = $.ajax({
				url: "register.php",
				type: "POST",
				data: {
					firstName : firstName,
					lastName : lastName,
					email : email,
					label : label,
					state : country,
					zip : zip,
					password : password,
					step : step
				},
				dataType: "html",
				success: function(data) {
					$('.span12.step1').replaceWith(data);
					validateStep2();
				}
			});
			request.fail(function(jqXHR, textStatus) {
			  alert( "Request failed: " + textStatus );
			});
		});
	};
	if(step === 2){
		$(".form-horizontal").validated(function(){
			var langs = true,
			step = $("#step").val(),
			request = $.ajax({
				url: "register.php",
				type: "POST",
				data: {
					langs : langs,
					step : step
				},
				dataType: "html",
				success: function(data) {
					$('.span12.step2').replaceWith(data);
					//validateStep3();
				}
			});
			request.fail(function(jqXHR, textStatus) {
			  alert( "Request failed: " + textStatus );
			});
		});
	};
};
function validateStep1(){
	$("#inputFname").validate({
		expression: "if (VAL.match(/^[a-z ,.'-]+$/i) && VAL) return true; else return false;",
		message: "First Name Required"
	});
    $("#inputLname").validate({
		expression: "if (VAL.match(/^[a-z ,.'-]+$/i) && VAL) return true; else return false;",
		message: "Last Name Required"
    });
	$("#inputEmail").validate({
		expression: "if (VAL.match(/^[^\\W][a-zA-Z0-9\\_\\-\\.]+([a-zA-Z0-9\\_\\-\\.]+)*\\@[a-zA-Z0-9_]+(\\.[a-zA-Z0-9_]+)*\\.[a-zA-Z]{2,4}$/) && VAL) return true; else return false;",
		message: "Please enter a valid Email ID" 
	});
	$("#inputLabel").validate({
		expression: "if (VAL.match(/^[a-z ,.'-]+$/i) && VAL) return true; else return false;",
		message: "A Label is Required"
	});
	$("#inputZip").validate({
		expression: "if (VAL.match(/^(\\d{5}-\\d{4})|(\\d{5})$/)) return true; else return false;",
		message: "Please enter a valid zipcode" 
    });
	$("#inputPassword").validate({
		expression: "if (VAL.match(/^.*(?=.{8,})(?=.*[a-zA-Z])(?=.*\\d)(?=.*[!#$%\&? \"]).*$/) && VAL) return true; else return false;",
		message: "Please meet the requirements"
    });
	$("#inputPassword").keyup(function(){
		var new_length = $(this).val().length;
		var char1 = $(this).val().split('!').length - 1;
		var char2 = $(this).val().split('#').length - 1;
		var char3 = $(this).val().split('$').length - 1;
		var char4 = $(this).val().split('%').length - 1;
		var char5 = $(this).val().split('&').length - 1;
		var char6 = $(this).val().split('?').length - 1;
		var char7 = $(this).val().split('"').length - 1;
		var numbers = char1 + char2 + char3 + char4 + char5 + char6 + char7;
		console.log(numbers);
		if(new_length < 1){
			$(".progress .bar").css("width","10%");
		}else if(new_length === 1){
			$(".progress .bar").css("width","20%");
		}else if(new_length === 2){
			$(".progress .bar").css("width","30%");
		}else if(new_length === 3){
			$(".progress .bar").css("width","40%");
		}else if(new_length === 4){
			$(".progress .bar").css("width","50%");
		}else if(new_length === 5){
			$(".progress .bar").css("width","60%");
		}else if(new_length === 6){
			$(".progress .bar").css("width","70%");
		}else if(new_length === 7){
			$(".progress .bar").css("width","80%");
		}else if(new_length === 8){
			$(".progress .bar").css("width","90%");
		}else if(new_length > 8){
			$(".progress .bar").css("width","100%");
		}
		if(numbers === 0){
			$(".progress .bar").removeClass("bar-warning").addClass("bar-danger");
		}
		if(numbers >= 1){
			$(".progress .bar").removeClass("bar-danger").addClass("bar-warning");
			$(".progress .bar").removeClass("bar-success").addClass("bar-warning");
		}
		if(numbers >= 4){
				$(".progress .bar").removeClass("bar-warning").addClass("bar-success");
		}
	});
	postMyAjax(1);
};
function validateStep2(){
	$("#inputLabel").validate({
		expression: "if (VAL.match(/^[a-z ,.'-]+$/i) && VAL) return true; else return false;",
		message: "A Label is Required"
	});
	postMyAjax(2);
};
$(function(){
	validateStep1();
});

</script>
  </body>
</html>